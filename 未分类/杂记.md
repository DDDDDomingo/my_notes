# 杂记

- 生产者/消费者编程模型
  - Google Guava 【EventBus.class】 



- 设计原则
  - KISS原则（Keep It Simple Stupid）



- IPC（进程间通信 Inter-Process Communication）
  - 管道（类似队列）





DDD

防御式编程

贫血模型（model中只有get set）、富血模型（方法做在model里面）



> 什么是RAP2？

RAP是一个可视化接口管理工具 通过分析接口结构，动态生成模拟数据，校验真实接口正确性， 围绕接口定义，通过一系列自动化工具提升我们的协作效率。

可视化编辑，完善的版本控制，各种格式的导入导出。让前后端约定接口的工作变得十分简单
RAP会自动根据接口文档生成Mock接口，这些接口会自动生成模拟数据，支持复杂的生成逻辑。



> 什么是DRC？

DRC(Data Replication Center)是我在阿里听过的一个概念，它的业务域是支持异构数据库实时同步，数据记录变更订阅服务。为跨域实时同步、实时增量分发、异地双活、分库分表等场景提供产品级的解决方案。



> 如何确定并发度？

线程池隔离使用线程池大小和等待队列大小来限制并发度，信号量隔离使用信号量容量大小来限制并发。

但要注意信号量策略的并发是瞬时并发，不同于TPS、QPS的概念。

信号量策略下的最大并发请求数和线程策略下的最大线程数计算公式：
最大每秒支撑请求数*（99%响应时长+网络消耗（为方便计算可忽略））。

比如：设计最大每秒支撑请求数是100，平均响应时长是500ms，通过公式：100*0.5 = 50。



> 什么是PIKA？

pika是360奇虎公司开源的一款类redis存储系统，主要解决的是用户使用 Redis 的内存大小超过 50G、80G 等等这样的情况，会遇到启动恢复时间长，一主多从代价大，硬件成本贵，缓冲区容易写满等问题。

Pika 就是针对这些场景的一个解决方案：

- Pika 的单线程的性能肯定不如 Redis，Pika 是多线程的结构，因此在线程数比较多的情况下，某些数据结构的性能可以优于 Redis；
- Pika 肯定不是完全优于 Redis 的方案，只是在某些场景下面更适合，DBA 可以根据业务的场景挑选合适的方案。



