## 2019/5/20备忘录

### 初步大纲

#### RPC实现

1、回调队列中的位置**消息丢弃**而不是仅仅看作**失败**

2、RPC操作流程

#### 持久化

1、概念、作用、使用

2、持久化与性能平衡

3、持久化的消息需要一个操作时间，在这段时间内发生异常，导致无法存入物理硬盘？

- 镜像队列（immediate参数去除的原因之一）**关键业务队列**
- 事务机制
- 发送方确认

4、生产者确认：确认消息正确地到达服务器

- 事务机制
  - 相关方法（channel类 txSelect\txCommit\txRollback）
  - 开启事务机制时正常AMQP协议流程
    - 与正常流程地区别
    - 事务回滚
  - 优点
  - 缺点
  - 使用场景
- 发送方确认（publisher comfirm）
  - 基本概念、流程
  - 使用（信道comfirm模式）
    - 区别

5、

